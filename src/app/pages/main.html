<div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-lg-9">
        <div class="card card-w-title">
            <h1>Available cars near you</h1>
            <p-dataTable #carsTable [value]="cars" [responsive]="true" selectionMode="single" expandableRows="true" [expandedRows]="expandedRows" (onRowSelect)="onRowSelected($event)">
                <p-column field="distance" header="Distance" [style]="{'width':'80px'}"></p-column>
                <p-column [style]="{'width':'148px'}">
                    <ng-template let-row="rowData" pTemplate="body">
                      <img src="assets/layout/images/cars/{{row.image}}_s.png" />
                    </ng-template>
                </p-column>
                <p-column field="make" header="Make"></p-column>
                <p-column field="model" header="Model"></p-column>
                <p-column field="sharecount" header="No. of Owners" [style]="{'width':'80px'}"></p-column>
                <p-column header="Your price" [style]="{'text-align':'right'}">
                    <ng-template let-row="rowData" pTemplate="body">
                      <b>{{app.priceFormatted(row.value/row.sharecount, row.currency)}}</b>
                    </ng-template>
                </p-column>
                <ng-template let-row pTemplate="rowexpansion">
                    <div class="ui-g ui-fluid">
                        <div class="ui-g-12 ui-md-6 ui-lg-8" style="text-align: center">
                            <p>
                                <img src="assets/layout/images/cars/{{row.image}}.png" width="100%" style="max-width: 400px"/>
                            </p>
                            <span><i class="material-icons">location_on</i>{{row.location}}</span>
                            <p style="white-space:pre-wrap;">{{row.infotext}}</p>
                            <p>
                                <b>{{app.priceFormatted(row.value, row.currency)}}</b><br>
                            </p>
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-4">
                            <div class="card" style="height: 100%;">
                                <i class="material-icons">person</i>
                                <p style="white-space:pre-wrap;">"{{row.teasertext}}"</p>
                                <p><button pButton type="button" (click)="dummy()" label="Contact"></button></p>
                                <p><button pButton type="button" (click)="dummy()" label="Add to watch list"></button></p>
                                <p><button pButton class="secondary" type="button" (click)="dummy()" label="Request Co-Ownership"></button></p>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </p-dataTable>
        </div>
    </div>
    <div class="ui-g-12 ui-lg-3">
        <div class="card card-w-title">
            <h1>Set your location</h1>
            <choose-location #yourlocation></choose-location>
        </div>
    </div>
</div>
